<!DOCTYPE html>
<html>

	<head>
		<title>Dr.Jart+</title>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="user-scalable=yes,width=1280">
		<link rel="stylesheet" href="assets/css/common.css">
		<link rel="stylesheet" href="assets/css/brand.css">
		<link rel="stylesheet" href="assets/css/jquery.fullpage.css">
	</head>

	<body>
		<div id="wrap">
			<div id="header" class="header header--white">

				<div class="header-contents header-contents--brand">
					<h1 class="site-logo">
						<a href="index.html"><img src="assets/images/logo.png" width="150" height="30"></a>
					</h1>
					<div id="gnb" class="gnb">
						<ul class="gnb-list">
							<li class="gnb-item">
								<a href="index.html" class="gnb-link gnb-link--1"></a>
							</li>
							<li class="gnb-item">
								<a href="brand.html" class="gnb-link gnb-link--2 gnb-link--active"></a>
							</li>
							<li class="gnb-item">
								<a href="content.html" class="gnb-link gnb-link--3"></a>
							</li>
							<li class="gnb-item">
								<a href="#" class="gnb-link gnb-link--4"></a>
							</li>
							<li class="gnb-item">
								<a href="#" class="gnb-link gnb-link--5"></a>
							</li>
						</ul>
					</div>
					<div class="user-menu">
						<ul class="user-menu-list">
							<li class="user-menu-item">
								<a href="#" class="user-menu-link user-menu-link--1"></a>
							</li>
							<li class="user-menu-item">
								<a href="#" class="user-menu-link user-menu-link--2"></a>
							</li>
							<li class="user-menu-item">
								<a href="#" class="user-menu-link user-menu-link--3"></a>
							</li>
							<li class="user-menu-item">
								<a href="#" class="user-menu-link user-menu-link--4"></a>
							</li>
						</ul>
					</div>
					<div class="quick-button">
						<ul class="header-icon-list">
							<li class="header-icon-item">
								<a href="#" class="header-icon-clock">
									<span class="clock-bar"><img src="assets/images/clock-bar.png" alt="" /></span>
								</a>
							</li>
							<li class="header-icon-item">
								<a href="#" class="header-icon-cart">
							8
							<span class="cart-handdle"><img src="assets/images/cart-handdle.png" alt="" /></span>
						</a>
							</li>
							<li class="header-icon-item">
								<a href="#" class="header-icon-search"></a>
							</li>
						</ul>
					</div>
				</div>

				<!-- white header // -->
				<div class="header-contents header-contents--brand header-contents--white">
					<h1 class="site-logo">
						<a href="index.html"><img src="assets/images/white_logo.png" width="150" height="30"></a>
					</h1>
					<div id="gnbWhite" class="gnb">
						<ul class="gnb-list">
							<li class="gnb-item">
								<a href="index.html" class="gnb-link gnb-link--1"></a>
							</li>
							<li class="gnb-item">
								<a href="brand.html" class="gnb-link gnb-link--2 gnb-link--active"></a>
							</li>
							<li class="gnb-item">
								<a href="content.html" class="gnb-link gnb-link--3"></a>
							</li>
							<li class="gnb-item">
								<a href="#" class="gnb-link gnb-link--4"></a>
							</li>
							<li class="gnb-item">
								<a href="#" class="gnb-link gnb-link--5"></a>
							</li>
						</ul>
					</div>
					<div class="user-menu">
						<ul class="user-menu-list">
							<li class="user-menu-item">
								<a href="#" class="user-menu-link user-menu-link--1"></a>
							</li>
							<li class="user-menu-item">
								<a href="#" class="user-menu-link user-menu-link--2"></a>
							</li>
							<li class="user-menu-item">
								<a href="#" class="user-menu-link user-menu-link--3"></a>
							</li>
							<li class="user-menu-item">
								<a href="#" class="user-menu-link user-menu-link--4"></a>
							</li>
						</ul>
					</div>
					<div class="quick-button">
						<ul class="header-icon-list">
							<li class="header-icon-item">
								<a href="#" class="header-icon-clock">
									<span class="clock-bar"><img src="assets/images/white_clock-bar.png" alt="" /></span>
								</a>
							</li>
							<li class="header-icon-item">
								<a href="#" class="header-icon-cart">
							8
							<span class="cart-handdle"><img src="assets/images/white-cart-handdle.png" alt="" /></span>
						</a>
							</li>
							<li class="header-icon-item">
								<a href="#" class="header-icon-search"></a>
							</li>
						</ul>
					</div>
				</div>
				<!-- // white header -->
			</div>
			<div id="contents">
				<div class="brand_section slide_section brand_section_01" style="height:1080px;">
					<video src="assets/video/brand_0.mp4" width="100%" loop muted data-autoplay poster="assets/images/brand/brand_img_1_1.jpg" id="banner_movie_0"></video>
					<div class="brand_section_inner">
						<div class="brand_text_wrap">
							<p class="brand_text move_element" style="top:0;"><img src="assets/images/brand/brand_text_01_01.png" alt=""></p>
							<p class="brand_text move_element" style="top:125px;"><img src="assets/images/brand/brand_text_01_02.png" alt=""></p>
							<p class="brand_text move_element" style="top:196px;"><img src="assets/images/brand/brand_text_01_03.png" alt=""></p>
						</div>
						<a href="#" class="brand_btn_prev"></a>
						<a href="#" class="brand_btn_next"></a>
						<span class="brand_btn_paging"></span>
					</div>
				</div>

				<div class="brand_section slide_section brand_section_02" style="height:1080px;">
					<div class="brand_section_inner">
						<ul class="brand_banner_list">
							<li class="brand_banner_item" style="opacity:1; z-index:2;">
								<div class="brand_banner_wrap">
									<span class="brand_banner_img move_element move" data-movecounter="1" style="top:0px;left:0;"><img src="assets/images/brand/brand_banner_1_2.jpg" alt=""></span>
									<span class="brand_banner_text move_element move" data-movecounter="2" style="top:210px;left:570px;"><img src="assets/images/brand/brand_banner_1_1.jpg" alt=""></span>
								</div>
							</li>
							<li class="brand_banner_item">
								<div class="brand_banner_wrap">
									<span class="brand_banner_text move_element move" data-movecounter="1" style="top:0px;left:0;z-index:2;"><img src="assets/images/brand/brand_banner_2_1.jpg" alt=""></span>
									<span class="brand_banner_img move_element move" data-movecounter="2" style="top:130px;left:210px;"><img src="assets/images/brand/brand_banner_2_2.jpg" alt=""></span>
								</div>
							</li>
							<li class="brand_banner_item">
								<div class="brand_banner_wrap">
									<span class="brand_banner_img move_element move" data-movecounter="1" style="top:60px;left:0;"><img src="assets/images/brand/brand_banner_3_2.jpg" alt=""></span>
									<span class="brand_banner_text move_element move" data-movecounter="2" style="top:0px;left:570px"><img src="assets/images/brand/brand_banner_3_1.jpg" alt=""></span>
								</div>
							</li>
						</ul>

						<div class="brand_banner_bg brand_banner_bg--one">
							<div class="gra_block gra_block__1">
								<div class="gra_inner"></div>
							</div>
							<div class="gra_block gra_block__2">
								<div class="gra_inner"></div>
							</div>
						</div>

						<a href="#" class="brand_btn_prev brand_btn_prev--black"></a>
						<a href="#" class="brand_btn_next brand_btn_next--black"></a>
						<div class="main-paging">
							<!-- <div class="main-paging-item">
						<a href="#" class="main-paging-link active">
							<span class="main-paging-btn"></span>
						</a>
					</div>
					<div class="main-paging-item">
						<a href="#" class="main-paging-link">
							<span class="main-paging-btn"></span>
						</a>
					</div>
					<div class="main-paging-item">
						<a href="#" class="main-paging-link">
							<span class="main-paging-btn"></span>
						</a>
					</div> -->
						</div>
					</div>

				</div>

				<div class="brand_section slide_section brand_section_03" style="height:1080px;">
					<div class="brand_section_inner">
						<div class="brand_text_wrap">
							<p class="brand_text move_element" style="top:0px;"><img src="assets/images/brand/brand_text_03_01.png" alt=""></p>
							<p class="brand_text move_element" style="top:61px;"><img src="assets/images/brand/brand_text_03_02.png" alt=""></p>
							<p class="brand_text move_element" style="top:322px;"><img src="assets/images/brand/brand_text_03_03.png" alt=""></p>
						</div>
					</div>
				</div>

				<div class="brand_section slide_section brand_section_04" style="height:1080px;">
					<div class="brand_section_inner">
						<div class="brand_section_img">
							<img src="assets/images/brand/brand_img_04.jpg" alt="">
							<p class="brand_text move_element" style="top:630px;"><img src="assets/images/brand/brand_text_04_01.png" alt=""></p>
							<p class="brand_text move_element" style="top:697px;"><img src="assets/images/brand/brand_text_04_02.png" alt=""></p>
							<a href="#" class="brand_btn_prev brand_btn_prev--black"></a>
							<a href="#" class="brand_btn_next brand_btn_next--black"></a>
						</div>
					</div>
					<span class="brand_btn_paging brand_btn_paging--black"></span>
				</div>

				<div class="brand_section slide_section brand_section_05" style="height:1080px;">
					<div class="brand_section_inner">
						<div class="brand_section_img">
							<img src="assets/images/brand/brand_img_05_02.png" alt="">
						</div>
						<a href="#" class="brand_btn_prev"></a>
						<a href="#" class="brand_btn_next"></a>
						<span class="brand_btn_paging"></span>
					</div>

				</div>
				<div id="footer" class="footer slide_section" data-gnb="header--white">
					<div class="foot-menu">
						<div class="foot-left"><img src="assets/images/foot_left_1.png"></div>
						<div class="foot-right"><img src="assets/images/foot_right_1.png"></div>
					</div>
					<div class="foot-con">
						<div class="foot-left"><img src="assets/images/foot_left_2.png"></div>
						<div class="foot-right"><img src="assets/images/foot_right_2.png"></div>
					</div>
				</div>
			</div>

		</div>
		<script type="text/javascript" src="assets/js/common.js"></script>
		<script type="text/javascript">
			(function()
			{

				// function resizeBrandFun(){
				// 	var windowHeight = $(window).height(),
				// 		brandSection = $('.brand_section');
				// 	brandSection.css('height',windowHeight);
				// };

				function brandBnrFnc()
				{
					// 배너 모션
					var bnrList = $('.brand_banner_list'),
						bnrItem = $('.brand_banner_item'),
						bnrItemLen = bnrItem.length,
						btnPrev = $('.brand_btn_prev'),
						btnNext = $('.brand_btn_next'),
						nowCount = 0, // 현재 보여지는 이미지 인덱스
						nextCount = 0, // 다음에 보여지는 이미지 인덱스
						isMove = false;



					// 초기 셋팅
					$.each(bnrItem, function(index)
					{
						var innerObj = $(this).find('.move'),
							i = 0,
							len = innerObj.length;
						for (i; i < len; i++)
						{
							var _this = innerObj.eq(i);
							if (index === nowCount)
							{
								_this.css('opacity', 1)
							}
						};
					});

					// paging 버튼 생성
					var pagingBtns = function()
					{
						var pagingBox = $('.main-paging'),
							pagingHtml = '<div class="main-paging-item"><a href="#" class="main-paging-link"><span class="main-paging-btn"></span></a></div>'
						i = '';

						for (i; i < bnrItemLen; i++)
						{
							$(pagingBox).append(pagingHtml);
						};
						$('.main-paging-item').eq(0).find('.main-paging-link').addClass('active').removeClass('delete')
					};
					pagingBtns();




					// 이전, 다음 버튼 클릭했을 때 이벤트
					var btnEvent = function(direction)
					{
						if (isMove)
						{
							return false;
						}
						if (direction == 'next')
						{
							if (nowCount >= bnrItemLen - 1)
							{
								nextCount = 0;
							}
							else
							{
								nextCount++;
							};
						}
						else if (direction == 'prev')
						{
							if (nowCount <= 0)
							{
								nextCount = bnrItemLen - 1;
							}
							else
							{
								nextCount--;
							};
						};
						bnrMotion();

					};

					// 모션 이벤트
					var bnrMotion = function()
					{

						var viewElement = $(bnrItem).eq(nowCount),
							viewMoveEles = viewElement.find('.move'),
							nextElement = $(bnrItem).eq(nextCount),
							nextMoveEles = nextElement.find('.move'),
							totalMoveElements = viewMoveEles.length + nextMoveEles.length,
							completeCounter = 0,
							comp = function()
							{
								completeCounter++;
								if (totalMoveElements === completeCounter)
								{
									nowCount = nextCount;
									isMove = false;
								}
							};
						isMove = true;

						$.each(viewMoveEles, function(index)
						{

							$(this).delay((index) * 200)
								.animate(
								{
									'top': $(this).data('origin').top - 100,
									'opacity': 0
								},
								{
									'duration': 1000,
									'easing': 'easeOutSine',
									complete: function()
									{
										comp();
									}
								});
						});

						$.each(nextMoveEles, function(index)
						{
							$(this).css(
								{
									'top': $(this).data('origin').top + 100,
									'opacity': 0
								}).delay((index + 1) * 300)
								.animate(
								{
									'top': $(this).data('origin').top,
									'opacity': 1
								},
								{
									'duration': 1000,
									'easing': 'easeOutSine',
									complete: function()
									{
										comp();
									}
								})
						});


						// paging 버튼 이벤트
						var pagingItem = $('.main-paging-item'),
							pagingLink = $('.main-paging-link'),
							pagingAddCls = 'active',
							pagingremoveCls = 'delete';

						// $(pagingItem).eq(0).find('.main-paging-link').addClass(pagingAddCls).removeClass(pagingremoveCls)
						$(pagingItem).eq(nextCount).find('.main-paging-link').addClass(pagingAddCls).removeClass(pagingremoveCls);
						$(pagingItem).eq(nowCount).find('.main-paging-link').removeClass(pagingAddCls).addClass(pagingremoveCls);

					};

					var test = function()
					{
						if (nextCount == 0)
						{
							$('.brand_banner_bg').addClass('brand_banner_bg--one').removeClass('brand_banner_bg--two brand_banner_bg--three');
						}
						else if (nextCount == 1)
						{
							$('.brand_banner_bg').addClass('brand_banner_bg--two').removeClass('brand_banner_bg--one brand_banner_bg--three');
						}
						else
						{
							$('.brand_banner_bg').addClass('brand_banner_bg--three').removeClass('brand_banner_bg--one brand_banner_bg--two');
						}
					}


					// 이전, 다음 버튼 클릭
					$(btnNext).on('click', function()
					{
						btnEvent('next');
						test();
						// pagingEve();
						return false;
					});
					$(btnPrev).on('click', function()
					{
						btnEvent('prev')
						test();
						return false;
					});

				};


				function ratio(w, h)
				{
					return (w > h) ? [w / h, 1] : [1, h / w];
				}

				function imgSizeFnc(imgWidth, imgHeight, areaWidth, areaHeight)
				{
					var imgW = imgWidth,
						imgH = imgHeight,
						blockW = areaWidth,
						blockH = areaHeight,
						imgRatio = ratio(imgW, imgH),
						blockRatio = ratio(blockW, blockH);
					var _class = (function()
					{
						if (blockRatio[0] > blockRatio[1])
						{ // 화면 가로 비율이 더 크다.
							if (imgRatio[0] > imgRatio[1])
							{ // 이미지도 가로 비율이 더 크다.
								if (blockRatio[0] > imgRatio[0])
								{
									return 'imgW';
								}
								else
								{
									return 'imgH';
								}
							}
							else
							{ // 이미지는 세로 비율이 더 크다
								return 'imgW';
							}
						}
						else
						{ // 화면 세로 비율이 더 크다.
							if (imgRatio[0] < imgRatio[1])
							{ // 이미지도 세로 비율이 더 크다.
								if (blockRatio[1] > imgRatio[1])
								{
									return 'imgH';
								}
								else
								{
									return 'imgW';
								}
							}
							else
							{
								return 'imgH'
							}
						}
					})();
					return _class;
				};


				var video = $('#banner_movie_0'),
					videoEle = video.get(0);

				function videoResize()
				{
					var videoW = imgSizeFnc(1280, 720, $(window).width(), $(window).height());
					if (videoW === 'imgW')
					{
						video.css(
						{
							'width': '100%',
							'height': 'auto'
						});
					}
					else
					{
						video.css(
						{
							'width': 'auto',
							'height': '100%'
						});
					}
				}


				videoEle.currentTime = 11;

				videoEle.addEventListener('timeupdate', function()
				{
					if (videoEle.currentTime > 38)
					{
						videoEle.currentTime = 11
					}
				});
				// videoEle.play();


				$(window).on('resize', function()
				{
					// resizeBrandFun();
					videoResize();
				});
				$(function()
				{
					drGnb('#gnb', '1'); // gnb
					drGnb('#gnbWhite', '1'); // gnb
					// resizeBrandFun();
					videoResize();
					brandBnrFnc();
					var moveElements = $('.move_element');
					var sections = $('.slide_section');
					$.each(moveElements, function()
					{
						$(this).data('origin',
						{
							'left': parseInt($(this).css('left'), 10),
							'top': parseInt($(this).css('top'), 10)
						});
					});

					$('#wrap').fullpage(
					{
						sectionSelector: '.slide_section',
						anchors: ['section_01', 'section_02', 'section_03', 'section_04', 'section_05', 'section_06'],
						// sectionsColor: ['#C63D0F', '#1BBC9B', '#7E8F7C'],
						scrollBar: true,
						css3: true,
						onLeave: function(index, newIndex, direction)
						{

							var gnbClass = (function()
							{
								switch (newIndex)
								{
									case 1:
										return 'header--white'
										break;
									case 2:
										return 'header--black'
										break;
									case 3:
										return 'header--white'
										break;
									case 4:
										return 'header--black'
										break;
									case 5:
										return 'header--white'
										break;
									default:
										return 'header--white'
								}
							})();

							$('#header').removeClass('header--white header--black').addClass(gnbClass);

							var oldSection = sections.eq(index - 1),
								oldElements = oldSection.find('.move_element'),
								newSection = sections.eq(newIndex - 1),
								newElements = newSection.find('.move_element'),
								oldTop = (function()
								{
									if (direction === 'down')
									{
										return +150
									}
									else
									{
										return +150
									}
								})();
							// console.log( newElements )
							$.each(oldElements, function(i)
							{
								var moveCounter = ($(this).data('movecounter')) ? $(this).data('movecounter') : (i + 1)
								targetPos = $(this).data('origin').top + (oldTop * moveCounter)

								$(this).delay(moveCounter * 200).animate(
								{
									'top': targetPos
								},
								{
									'duration': 1000,
									'easing': 'easeOutSine',
									complete: function()
									{
										// 	console.log('comp')
									}
								});
							});
							$.each(newElements, function(i)
							{
								var moveCounter = ($(this).data('movecounter')) ? $(this).data('movecounter') : (i + 1)
								settPos = $(this).data('origin').top + oldTop,
									targetPos = $(this).data('origin').top;
								$(this).css(
								{
									'top': settPos
								}).delay(moveCounter * 150).animate(
								{
									'top': targetPos
								},
								{
									'duration': 1000,
									'easing': 'easeOutSine'
								});
							});

							// $('#wrap').addClass( 'section_0'+newIndex+direction );

							// if (index == 3 && direction == 'down'){
							// 	$('.section').eq(index -1).removeClass('moveDown').addClass('moveUp');
							// }
							// else if(index == 3 && direction == 'up'){
							// 	$('.section').eq(index -1).removeClass('moveUp').addClass('moveDown');
							// }

							// $('#staticImg').toggleClass('active', (index == 2 && direction == 'down' ) || (index == 4 && direction == 'up'));
							// $('#staticImg').toggleClass('moveDown', newIndex == 4);
							// 	$('#staticImg').toggleClass('moveUp', index == 4 && direction == 'up');
						}


					});
				});

			})();
		</script>
	</body>

</html>